---
import ContentContainer from "../../shared/containers/ContentContainer.astro";

const feedbacks = [
  {
    text: "Muito interessante e simples de entender da forma que voc√™ explicou!! Obrigada por compartilhar.",
    author: "@danielaferreira4682",
  },
  {
    text: "Parab√©ns pela s√©rie de v√≠deos sobre angular, Henrique! Seu conte√∫do tem sido uma √≥tima fonte de aprendizado! Sem d√∫vidas, o melhor e mais atual em portugu√™s!!",
    author: "@brunogomes2909",
  },
  {
    text: 'Show üéâ uma abordagem sucinta e simples aplicado em um conceito de "certo modo" um pouco complexo, parab√©ns ‚ù§',
    author: "@JonnathanLS ",
  },
  {
    text: "Seu conte√∫do √© bom demais Henrique. Estou maratonando para aprender as novidades enquanto me preparo para uma entrevista e gostei demais. Parab√©ns!",
    author: "@victorcardosolima2640  ",
  },
  {
    text: "Essa sem d√∫vida foi as features que mais me surpreendeu, e parab√©ns pelos videos.",
    author: "@Xandrules",
  },
  {
    text: "Muito maneiro trazer conte√∫do sobre Angular. Dif√≠cil achar bons conte√∫dos de angular, geralmente pesquiso em ingl√™s e estudo a documenta√ß√£o.",
    author: "@leonardocamargo5412",
  },
];
---

<ContentContainer>
  <div class="flex flex-col items-center">
    <div class="max-w-[780px] w-full">
      <h1 class="text-[32px]  font-bold text-center">
        Est√° chovendo elogios por aqui :)
      </h1>

      <p class="text-[18px] leading-relaxed text-center  mt-8">
        A <strong class="text-primary">Code Dimension</strong> est√° empenhada em entregar conte√∫do relevante e
        atualizado para voc√™ que quer evoluir dia ap√≥s dia!
      </p>
    </div>
  </div>

  <swiper-container
    class="mt-20"
    pagination="false"
    effect="coverflow"
    grab-cursor="true"
    centered-slides="true"
    autoplay="true"
    loop="true"
    coverflow-effect-rotate="50"
    coverflow-effect-stretch="0"
    coverflow-effect-depth="100"
    coverflow-effect-modifier="1"
    coverflow-effect-slide-shadows="true"
    init="false"
  >
    {
      feedbacks.map((feedback) => (
        <swiper-slide class="min-h-[350px] p-8 sm:m-2 lg:p-8 border border-primary bg-primary text-light rounded flex flex-col items-center">
          <p class=" text-[18px]">{feedback.text}</p>

          <em class=" mt-auto">{feedback.author}</em>
        </swiper-slide>
      ))
    }
  </swiper-container>
</ContentContainer>

<script>
  // import function to register Swiper custom elements
  import { register } from "swiper/element/bundle";
  // register Swiper custom elements
  register();

  const isDesktop = window.matchMedia("(min-width: 980px)").matches;
  const isTablet = window.matchMedia("(min-width: 650px)").matches;

  function getSlidesPerView() {
    if (isDesktop) {
      return 3;
    }

    if (isTablet) {
      return 2;
    }

    return 1;
  }

  const swiperEl: any = document.querySelector("swiper-container");

  Object.assign(swiperEl, {
    slidesPerView: getSlidesPerView(),
  });

  swiperEl.initialize();
</script>
